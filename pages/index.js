import Head from 'next/head';
import Image from 'next/image';
import styles from '../styles/Home.module.css';
import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';
import Link from 'next/link';
import 'animate.css';
import github from '../public/github.png';
import linkedIn from '../public/linkedIn.png';

export default function Home({ posts }) {
    return (
        <div>
            <Head>
                <title>Cassady Campos Software</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>

            <main className="mt-4 d-flex">
                <div
                    id="home"
                    className="d-flex flex-column text-left justify-content-center"
                    style={{ height: 'calc(85vh - 150px)' }}
                >
                    <h1
                        className={
                            ' animate__animated animate__fadeInRightBig animate__slow '
                        }
                    >
                        Software Developer
                    </h1>
                    <div
                        className={
                            styles.subTitle +
                            ' animate__animated animate__fadeInRight animate__slower'
                        }
                    >
                        Calgary, AB, Canada
                    </div>
                    <div
                        className={
                            ' animate__animated animate__fadeInRightBig animate__slower text mt-3'
                        }
                    >
                        In love with all things tech and software! Have a look
                        around, check out one of my projects or read one of my
                        posts!
                    </div>
                    <div className="d-flex">
                    <div className="col-1 mt-4 animate__animated animate__fadeInUpBig animate__slower animate__delay-1s">
                        <Image
                            className=""
                            src={github}
                            // className="col-md-8, col-sm-12 img-fluid mt-1 rounded"
                            alt="thumbnail"
                            width={48}
                            height={48}
                            // objectFit="cover"
                        />
     
                    </div>
                    <div className="col-1 mt-4 animate__animated animate__fadeInUpBig animate__slower animate__delay-1s">
                    <Image
                            className=""
                            src={linkedIn}
                            // className="col-md-8, col-sm-12 img-fluid mt-1 rounded"
                            alt="thumbnail"
                            width={48}
                            height={48}
                            // objectFit="cover"
                        />
                    </div>
                    </div>
                    
                </div>
            </main>
        </div>
    );
}

export const getStaticProps = async () => {
    const files = fs.readdirSync(path.join('posts'));
    const posts = files.map((filename) => {
        const markdownWithMeta = fs.readFileSync(
            path.join('posts', filename),
            'utf-8'
        );
        const { data: frontMatter } = matter(markdownWithMeta);
        return {
            frontMatter,
            slug: filename.split('.')[0],
        };
    });

    return {
        props: {
            posts,
        },
    };
};
